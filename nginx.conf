worker_processes  auto;

events {
    worker_connections  1024;
}

http {
  include       mime.types;
  default_type  application/octet-stream;

  sendfile        on;

  keepalive_timeout  65;

  gzip  on;
  gzip_types
      text/css
      text/javascript
      text/xml
      text/plain
      application/javascript
      application/x-javascript
      application/json
      application/xml
      application/rss+xml
      application/atom+xml
      font/truetype
      font/opentype
      image/svg+xml;

  server {
      listen       80;
      server_name  localhost;

      location / {
          root   /app;
          index  index.html index.htm;
          try_files $uri @rewrites;
      }

      location @rewrites {
          rewrite ^(.+)$ /index.html last;
      }

      error_page   500 502 503 504  /50x.html;
      location = /50x.html {
          root   /usr/share/nginx/html;
      }
  }
}
